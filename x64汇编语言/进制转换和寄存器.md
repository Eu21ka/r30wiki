---
title: 进制转换和寄存器
description: 熟悉二进制、十六进制，了解寄存器
published: true
date: 2022-07-27T12:36:29.649Z
tags: 汇编语言, x64
editor: markdown
dateCreated: 2022-07-27T08:46:23.155Z
---

# 计算机中的数字
**计算机中最小的信息片段是位（bit），一个位的值可以是0或者1。而最小的可寻址单元是字节（byte），1字节等于8位**。我们都知道计算机是使用二进制数字来工作的，但是8位的二进制对我们来说过于冗长，所以这里引入十六进制，**我们可以用2位十六进制数来表示一个字节（因为1位十六进制数需要用4位二进制数才能全部表示）。**
在代码中`0x`开头或者`h`结尾表示十六进制数，`b`结尾表示二进制数，`o`结尾表示八进制数。

有c语言基础的小伙伴都知道，**整数我们一般会分为有符号和无符号（内存地址都是无符号整数）**。有符号整数的最左位为1代表负数，为0代表正数。正整数转二进制学过计算机的应该都会，这里讲讲负整数二进制表示步骤：
-  写出其绝对值的二进制
- 取补码（1变0，0变1）
- 加1

# 寄存器
寄存器在计算机系统中是最小的存储设备，同时也是读写速度最快的，当然单位造价也是最高的。

## 通用寄存器
总共有16个通用寄存器（如下表），每个寄存器可以用作64位、32位、16位或者8位寄存器。
| 64位 | 32位 | 16位 | 低8位 | 高8位 |
| :--: | :--: | :--: | :---: | :---: |
| rax  | eax  |  ax  |  al   |  ah   |
| rbx  | ebx  |  bx  |  bl   |  bh   |
| rcx  | ecx  |  cx  |  cl   |  ch   |
| rdx  | edx  |  dx  |  dl   |  dh   |
| rsi  | esi  |  si  |  sil  |   -   |
| rdi  | edi  |  di  |  dil  |   -   |
| rbp  | ebp  |  bp  |  bpl  |   -   |
| rsp  | esp  |  sp  |  spl  |   -   |
|  r8  | r8d  | r8w  |  r8b  |   -   |
|  r9  | r9d  | r9w  |  r9b  |   -   |
| r10  | r10d | r10w | r10b  |   -   |
| r11  | r11d | r11w | r11b  |   -   |
| r12  | r12d | r12w | r12b  |   -   |
| r13  | r13d | r13w | r13b  |   -   |
| r14  | r14d | r14w | r14b  |   -   |
| r15  | r15d | r15w | r15b  |   -   |
其中`rbp`和`rsp`尽管为通用寄存器，但是也要谨慎使用，因为它们在程序中被处理器使用。

我们把最右边的位称为“低”位，也称为0号位，所以一个64位的寄存器的最高（最左）位的索引为63。
如果我们想使用某个寄存器的某几位，都是从最右边（最低位）开始取的。例如：

将二进制数`00000000 00000000 00000000 00000000 00000000 00000000 00000000 00111100`(共64位，十进制60)放入寄存器`rax`后
如果我们想用其32位寄存器`eax`，这时`eax`的值为：`00000000 00000000 00000000 00111100`
同理`ax`的值为：`00000000 00111100`
`al`的值为：`00111100`

## 指令寄存器
**指令寄存器器指的是`rpi`，它保存的是程序下一条指令的地址**。虽然我们在程序中可以直接更改`rpi`的值来使程序跳转到我们想要的地方，但是这样做并不安全，所以一般程序跳转我们使用跳转指令，但本质上都是`rpi`的值被修改了。

## 标志寄存器
